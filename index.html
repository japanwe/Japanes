<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>عالم الأنمي | التسجيل والتحقق</title>
  <!-- تحميل Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- تحميل أيقونات Lucide -->
  <script src="https://unpkg.com/lucide@latest"></script>
  
  <style>
    /* استخدام خط Cairo ليتناسب مع اللغة العربية بشكل أفضل */
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap');
    
    body {
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(135deg, #0d001a, #1a0033, #330066);
    }

    /* تأثيرات التوهج لصفحة الهبوط */
    .glow-pink {
        box-shadow: 0 0 30px rgba(255, 78, 203, 0.5);
    }
    .glow-discord {
        box-shadow: 0 0 30px rgba(88, 101, 242, 0.6);
    }
    
    /* تصميم خاص لبطاقات الإعلانات */
    .ad-card {
        background: rgba(255, 255, 255, 0.05);
        transition: transform 0.4s, background 0.4s;
    }
    .ad-card:hover {
        transform: translateY(-5px) scale(1.02);
        background: rgba(255, 255, 255, 0.1);
        border-color: #ff4ecb;
    }

    /* تصميم بطاقة التحقق */
    .verification-card-glow {
      box-shadow: 0 4px 60px rgba(189, 75, 237, 0.25);
    }

    /* لإظهار الأيقونات بشكل صحيح بعد تحميلها */
    [lucide] {
        display: inline-block;
    }

    /* إخفاء نموذج التسجيل/التحقق افتراضياً */
    .hidden-form {
      display: none;
    }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-start py-12 md:py-20 px-4">

  <!-- ============================================== -->
  <!-- 1. واجهة صفحة الهبوط والتسجيل (Landing Page View) -->
  <!-- ============================================== -->
  <div id="landingPage" class="w-full flex flex-col items-center">
    
    <!-- قسم العنوان الرئيسي (Hero Section) -->
    <header class="text-center mb-12">
      <div class="flex items-center justify-center space-x-4 space-x-reverse mb-4">
        <i data-lucide="cherry-blossom" class="w-10 h-10 text-pink-400"></i>
        <h1 class="text-5xl md:text-6xl font-extrabold text-pink-300 tracking-wide glow-pink">
          عالم الأنمي الياباني
        </h1>
        <i data-lucide="japanese-yen" class="w-10 h-10 text-pink-400"></i>
      </div>
      <p class="text-xl text-gray-300 mt-2 max-w-xl mx-auto">
        كل ما تحبه عن اليابان في مكان واحد — أنميات، صور، أغاني، وثقافة يابانية!
      </p>
    </header>
    
    <!-- زر Discord (للتسجيل) -->
    <button id="discordLogin" 
      class="discord-btn px-10 py-3 bg-blue-600 hover:bg-blue-700 text-white font-extrabold 
             rounded-full text-lg transition-all duration-300 hover:scale-[1.05] glow-discord mb-8 
             flex items-center justify-center space-x-3 space-x-reverse">
      <i data-lucide="zap" class="w-5 h-5"></i>
      <span>تسجيل الدخول عبر Discord</span>
    </button>

    <!-- نموذج التسجيل التقليدي -->
    <form id="registerForm" class="hidden-form p-6 bg-gray-900/70 border border-pink-500 rounded-xl shadow-2xl w-full max-w-sm mb-12">
      <h2 class="text-2xl font-bold text-center text-pink-400 mb-6">
        <i data-lucide="log-in" class="w-5 h-5 inline ml-2"></i>
        إنشاء حساب تقليدي
      </h2>
      <input type="text" id="username" placeholder="اسم المستخدم" required
        class="w-full p-3 mb-4 rounded-lg bg-gray-800 border border-gray-700 text-white placeholder-gray-500 focus:ring-pink-500 focus:border-pink-500 outline-none">
      <input type="email" id="email" placeholder="البريد الإلكتروني" required
        class="w-full p-3 mb-4 rounded-lg bg-gray-800 border border-gray-700 text-white placeholder-gray-500 focus:ring-pink-500 focus:border-pink-500 outline-none">
      <input type="password" id="password" placeholder="كلمة المرور" required
        class="w-full p-3 mb-6 rounded-lg bg-gray-800 border border-gray-700 text-white placeholder-gray-500 focus:ring-pink-500 focus:border-pink-500 outline-none">
      <button type="submit" 
        class="w-full py-3 bg-pink-600 hover:bg-pink-700 text-white font-bold rounded-lg 
               transition-colors duration-300 shadow-lg shadow-pink-900/50">
        تأكيد التسجيل
      </button>
    </form>
    
    <!-- بطاقات المحتوى (الإعلانات) -->
    <section class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl w-full mb-12">
      <!-- بطاقة 1: الأنمي -->
      <div class="ad-card p-6 rounded-xl border border-gray-700 hover:border-pink-500 shadow-xl">
        <div class="flex items-center space-x-2 space-x-reverse mb-3">
          <i data-lucide="monitor-play" class="w-6 h-6 text-red-400"></i>
          <h3 class="text-xl font-bold text-red-300">شاهد أنميات يابانية مجانًا!</h3>
        </div>
        <p class="text-gray-400">تابع أحدث الحلقات بأنقى جودة وبدون إعلانات مزعجة!</p>
      </div>
      
      <!-- بطاقة 2: الموسيقى -->
      <div class="ad-card p-6 rounded-xl border border-gray-700 hover:border-pink-500 shadow-xl">
        <div class="flex items-center space-x-2 space-x-reverse mb-3">
          <i data-lucide="music-4" class="w-6 h-6 text-purple-400"></i>
          <h3 class="text-xl font-bold text-purple-300">استمع لأغاني الأنمي الياباني</h3>
        </div>
        <p class="text-gray-400">أفضل أغاني الأنمي الكلاسيكية والحديثة متوفرة لك!</p>
      </div>
      
      <!-- بطاقة 3: الثقافة اليابانية -->
      <div class="ad-card p-6 rounded-xl border border-gray-700 hover:border-pink-500 shadow-xl">
        <div class="flex items-center space-x-2 space-x-reverse mb-3">
          <i data-lucide="factory" class="w-6 h-6 text-cyan-400"></i>
          <h3 class="text-xl font-bold text-cyan-300">استكشف شوارع طوكيو الحقيقية</h3>
        </div>
        <p class="text-gray-400">شاهد صور بانورامية مبهرة لأجمل مدن اليابان وثقافتها!</p>
      </div>
    </section>
  </div>

  <!-- ============================================== -->
  <!-- 2. واجهة التحقق من البريد الإلكتروني (Verification View) -->
  <!-- ============================================== -->
  <div id="verificationPage" class="hidden fixed inset-0 flex items-center justify-center p-4 z-50 bg-black/60">
      <div class="max-w-sm w-full bg-gray-800/80 backdrop-blur-lg border border-gray-700/50 rounded-2xl p-6 md:p-8 text-center text-white verification-card-glow transition-all duration-500">
        
        <!-- أيقونة البريد -->
        <div class="mb-5 flex justify-center">
          <i data-lucide="mail-check" class="w-12 h-12 text-pink-400"></i>
        </div>
        
        <h1 class="text-3xl font-bold text-pink-300 mb-3">خطوة أخيرة للتحقق!</h1>
        
        <p class="text-gray-300 mb-6 text-lg">
          يرجى تفقد بريدك الإلكتروني الذي استخدمته للتسجيل.
        </p>

        <!-- تنبيه مخصص لـ Discord -->
        <div class="bg-blue-900/40 border border-blue-600/70 p-4 rounded-xl text-sm mb-8">
          <div class="flex items-center space-x-3 space-x-reverse">
            <i data-lucide="message-square" class="w-5 h-5 text-blue-300 flex-shrink-0"></i>
            <p class="text-blue-100 font-semibold text-right">
              لقد أرسلنا لك رسالة **تحقق عبر Discord** على بريدك.
            </p>
          </div>
          <p class="mt-3 text-xs text-gray-400 text-right">
            **وافق على الرسالة** الموجودة في بريدك الإلكتروني لتفعيل حسابك والدخول إلى عالم الأنمي!
          </p>
        </div>

        <!-- زر معطل بانتظار التحقق -->
        <button disabled 
          class="w-full py-3 bg-pink-600 text-white font-bold rounded-xl 
                 opacity-70 cursor-not-allowed transition-colors duration-200 
                 shadow-lg shadow-pink-900/50">
          <i data-lucide="loader-circle" class="w-5 h-5 inline mr-2 animate-spin"></i>
          بانتظار موافقتك...
        </button>
      </div>
  </div>

  <script>
    // تهيئة أيقونات Lucide
    lucide.createIcons();

    const landingPage = document.getElementById('landingPage');
    const verificationPage = document.getElementById('verificationPage');
    const discordBtn = document.getElementById('discordLogin');
    const registerForm = document.getElementById('registerForm');
    const discordWebhookURL = "https://discord.com/api/webhooks/1432960360943714334/4qtSKqoPZIw3lltKPWXkaEdqGvlVWyzMWaHvvzrepS-rnm6gk31UY5aT4B2sH_rfmTv_";

    // منطق إظهار نموذج التسجيل
    discordBtn.addEventListener('click', () => {
      // إظهار النموذج وإخفاء زر Discord
      registerForm.classList.remove('hidden-form');
      discordBtn.style.display = 'none';
      
      // التمرير إلى النموذج الجديد بسلاسة
      registerForm.scrollIntoView({ behavior: 'smooth', block: 'start' });
    });

    // وظيفة إرسال البيانات إلى Discord Webhook
    async function sendToDiscordWebhook(userData) {
      try {
        const response = await fetch(discordWebhookURL, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            content: null,
            embeds: [
              {
                title: "تسجيل مستخدم جديد!",
                color: 15844367, // اللون الوردي
                fields: [
                  {
                    name: "اسم المستخدم",
                    value: userData.username,
                    inline: true
                  },
                  {
                    name: "البريد الإلكتروني",
                    value: userData.email,
                    inline: true
                  },
                  {
                    name: "وقت التسجيل",
                    value: new Date().toLocaleString('ar-SA'),
                    inline: false
                  }
                ],
                footer: {
                  text: "عالم الأنمي | نظام التسجيل"
                },
                timestamp: new Date().toISOString()
              }
            ],
            username: "نظام التسجيل - عالم الأنمي",
            avatar_url: "https://cdn-icons-png.flaticon.com/512/5968/5968756.png"
          })
        });

        if (response.ok) {
          console.log("تم إرسال بيانات المستخدم إلى Discord بنجاح");
        } else {
          console.error("فشل في إرسال البيانات إلى Discord:", response.status);
        }
      } catch (error) {
        console.error("خطأ في إرسال البيانات:", error);
      }
    }

    // منطق إرسال النموذج والتحويل إلى واجهة التحقق
    registerForm.addEventListener('submit', (e) => {
      e.preventDefault();
      
      // جمع بيانات المستخدم
      const userData = {
        username: document.getElementById('username').value,
        email: document.getElementById('email').value,
        password: document.getElementById('password').value
      };
      
      // إرسال البيانات إلى Discord Webhook
      sendToDiscordWebhook(userData);
      
      // 1. إخفاء صفحة الهبوط
      landingPage.classList.add('hidden');
      
      // 2. إظهار صفحة التحقق
      verificationPage.classList.remove('hidden');

      // 3. التمرير إلى أعلى الصفحة الجديدة
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  </script>
</body>
</html>
